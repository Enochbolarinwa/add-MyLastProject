/*! For license information please see main.js.LICENSE.txt */
!function(e){var t={};function o(i){if(t[i])return t[i].exports;var n=t[i]={i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=t,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=326)}({0:function(e,t,o){"use strict";o.d(t,"b",(function(){return r})),o.d(t,"a",(function(){return a})),o.d(t,"c",(function(){return s}));var i=o(2),n=o(1);function s(e="string",t=null){return(o,s)=>{const r=Object(i.a)(s);if(t){if(!o.hasOwnProperty(t))throw new Error(`Member \`${t}\` does not exist on on target class.`);o.constructor.observedProps.set(r,{type:e,changedFn:t})}delete o[s]&&Object.defineProperty(o,s,{get:function(){return n.a.fromAttribute(this.getAttribute(r),e)},set:function(t){this.setAttribute(r,n.a.toAttribute(t,e))},enumerable:!0})}}function r(e){return function(t){s("boolean")(t.prototype,"framework");const{onInit:o}=t.prototype;o&&(t.prototype.connectedCallback=function(){if(!this.framework){const e=document.readyState;"interactive"===e||"complete"===e?this.onInit():window.addEventListener("DOMContentLoaded",this.onInit.bind(this),{once:!0})}}),customElements.get(e)||customElements.define(e,t)}}class a extends HTMLElement{constructor(){super()}static get observedAttributes(){return this.observedProps.keys()}attributeChangedCallback(e,t,o){const i=this.constructor.observedProps,{changedFn:s,type:r}=i.get(e),a=n.a.fromAttribute(t,r),c=n.a.fromAttribute(o,r);this[s](a,c)}}a.observedProps=new Map},1:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));class i{static fromAttribute(e,t){switch(t){case"boolean":return null!==e&&"false"!==e;case"number":return null===e?null:Number(e);case"object":case"array":return JSON.parse(e)}return e}static toAttribute(e,t){switch(t){case"boolean":return!!e&&"";case"object":case"array":return JSON.stringify(e)}return e}}},2:function(e,t,o){"use strict";o.d(t,"a",(function(){return i}));const i=e=>e.replace(/([a-z0-9]|(?=[A-Z]))([A-Z])/g,"$1-$2").toLowerCase()},326:function(e,t,o){"use strict";o.r(t),o.d(t,"GBGeoIpNotification",(function(){return n}));var i=o(0);let n=class extends HTMLElement{constructor(){super(...arguments),this.geoIpSessionObject={pageViews:0,hideToast:!1,isClosed:!1,timestamp:null,hasAccepted:!1,hasSilentConsent:!1,pagesVisited:[],akamaiCountryCode:null,countryPermitted:!1}}onInit(){this.geoIpContainer=this.querySelector(".gb-geo-ip-notification-container"),this.geoIpTextDropdownContainer=this.querySelector(".gb-geo-ip-notification-text-dropdown-button-container"),this.geoIpDropdownValue=this.querySelector(".gb-geo-ip-notification-dropdown"),this.geoIpDropdownContainer=this.querySelector(".gb-geo-ip-notification-dropdown-container"),this.geoIpCloseContainer=this.querySelector(".gb-geo-ip-notification-close-icon-container"),this.geoIpCloseButton=this.querySelector(".gb-geo-ip-close"),this.geoIpContinueButton=this.querySelector(".gb-geo-ip-button"),this.defaultCountryCode="US",this.reqPageViews=3,this.geoIpSessionObject=JSON.parse(sessionStorage.getItem("gb-geo-ip-notification"))||this.geoIpSessionObject,this.geoIpDropdownValue.addEventListener("change",this.onDropdownOption.bind(this)),this.geoIpCloseButton.addEventListener("click",this.handleCloseButton.bind(this)),this.geoIpContinueButton.addEventListener("click",this.handleContinueButton.bind(this)),window.addEventListener("keydown",this.onCloseKeyDown.bind(this)),this.resolveComponentVisibility()}resolveComponentVisibility(){this.determineAkamaiCookie(),this.geoIpSessionObject.countryPermitted&&(this.preSelectCountryValue(),this.reviseGeoipSession(),this.resolveSilentConsent()),this.setGeoIpSession(),this.setToastDisplay()}determineAkamaiCookie(){var e;const t=null===(e=document.cookie.split(";").find((e=>null==e?void 0:e.trim().startsWith("GMWP_location"))))||void 0===e?void 0:e.trim().replaceAll("GMWP_location=","").split(",");this.geoIpSessionObject.akamaiCountryCode=t?t.find((e=>e.trim().startsWith("country_code"))).split("=")[1]:null,this.geoIpSessionObject.akamaiCountryCode===this.defaultCountryCode?this.geoIpSessionObject.countryPermitted=!1:this.geoIpSessionObject.countryPermitted=!0}preSelectCountryValue(){const e=null!==this.querySelector(`option[data-countrycode="${this.geoIpSessionObject.akamaiCountryCode}"]`)?this.querySelector(`option[data-countrycode="${this.geoIpSessionObject.akamaiCountryCode}"]`):this.querySelector(`option[data-countrycode="${this.defaultCountryCode}"]`);e&&e.setAttribute("selected","true");const t=e.getAttribute("data-link");this.geoIpContinueButton.addEventListener("change",this.preSelectCountryValue.bind(this)),this.geoIpContinueButton.setAttribute("href",t)}onDropdownOption(){this.querySelector("option").removeAttribute("selected");const e=this.geoIpDropdownValue,t=e[e.selectedIndex].dataset.link;(t.startsWith("https://")||t.startsWith("http://"))&&this.geoIpContinueButton.setAttribute("href",t)}setToastDisplay(){1==this.geoIpSessionObject.hideToast?this.geoIpContainer.classList.add("gb-geoip-notification-inactive"):this.geoIpContainer.classList.remove("gb-geoip-notification-inactive")}reviseGeoipSession(){if(!this.geoIpSessionObject.hideToast){let e,t=!1;for(e in this.geoIpSessionObject.pagesVisited)this.geoIpSessionObject.pagesVisited[e]===document.location.pathname&&(t=!0);document.referrer.includes(document.location.origin)?t||(this.geoIpSessionObject.pageViews=this.geoIpSessionObject.pageViews+1):(this.geoIpSessionObject.pagesVisited=[],this.geoIpSessionObject.pageViews=1),this.geoIpSessionObject.pagesVisited.push(document.location.pathname)}}resolveSilentConsent(){this.geoIpSessionObject.pageViews>=this.reqPageViews?(this.geoIpSessionObject.hasSilentConsent=!0,this.geoIpContainer.classList.add("gb-geoip-notification-inactive")):this.geoIpSessionObject.hasSilentConsent=!1}setGeoIpSession(){this.geoIpSessionObject.hasAccepted||this.geoIpSessionObject.pageViews>3||this.geoIpSessionObject.hasSilentConsent||this.geoIpSessionObject.isClosed||!this.geoIpSessionObject.countryPermitted?this.geoIpSessionObject.hideToast=!0:this.geoIpSessionObject.hideToast=!1,this.geoIpSessionObject.timestamp=new Date,sessionStorage.setItem("gb-geo-ip-notification",JSON.stringify(this.geoIpSessionObject))}handleCloseButton(e){null==e||e.preventDefault(),this.handleCloseButtonAnimation(),this.geoIpSessionObject.isClosed=!0,this.setGeoIpSession()}handleCloseButtonAnimation(){this.geoIpContainer.style.height=this.geoIpContainer.clientHeight+"px",this.geoIpCloseContainer.style.height=this.geoIpCloseContainer.clientHeight+"px",this.geoIpContainer.style.overflow="hidden",this.geoIpContainer.style.transition="height 500ms linear",this.geoIpContainer.style.height="0px",this.geoIpContainer.addEventListener("transitionend",(()=>{this.geoIpContainer.classList.add("gb-geoip-notification-inactive")}))}handleContinueButton(){this.geoIpSessionObject.hasAccepted=!0,this.setGeoIpSession()}onCloseKeyDown(e){"Escape"===e.key&&this.handleCloseButton(event)}getGeoIpSessionObject(){return this.geoIpSessionObject}};n=function(e,t,o,i){var n,s=arguments.length,r=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,o):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,i);else for(var a=e.length-1;a>=0;a--)(n=e[a])&&(r=(s<3?n(r):s>3?n(t,o,r):n(t,o))||r);return s>3&&r&&Object.defineProperty(t,o,r),r}([Object(i.b)("gb-geo-ip-notification")],n)}});